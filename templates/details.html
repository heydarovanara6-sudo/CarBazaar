{% extends "base.html" %}

{% block content %}
<div class="detail-shell" style="margin-top: 20px;">
    <div class="detail-grid">
        <div class="detail-gallery">
            <div class="main-image">
                <img id="mainImage" src="{{ car.images[0] }}" alt="{{ car.brand }} {{ car.model }}"
                    onerror="this.src='https://via.placeholder.com/800x600?text=No+Image'">
            </div>
            {% if car.images|length > 1 %}
            <div class="thumbs">
                {% for img in car.images %}
                <img class="thumb" data-src="{{ img }}" src="{{ img }}" alt="thumb"
                    onerror="this.src='https://via.placeholder.com/120x90?text=No+Image'">
                {% endfor %}
            </div>
            {% endif %}
        </div>

        <div class="detail-card">
            <div class="price-line">
                <div>
                    <div class="price-big">{{ car.price }} {{ car.currency }}</div>
                    <div class="subtitle">{{ car.brand }} • {{ car.model }}</div>
                </div>
                <div class="chips">
                    <span class="chip">{{ car.year }}</span>
                    <span class="chip">{{ car.city }}</span>
                    <span class="chip soft">Views: —</span>
                </div>
            </div>

            <div class="spec-grid">
                <div class="spec"><span>Engine</span><strong>{{ car.engine }} L</strong></div>
                <div class="spec"><span>Mileage</span><strong>{{ car.odometer }} km</strong></div>
                <div class="spec"><span>Posted</span><strong>{{ car.dates }}</strong></div>
                <div class="spec"><span>Currency</span><strong>{{ car.currency }}</strong></div>
                <div class="spec"><span>Seller</span><strong>{{ car.owner.username if car.owner else 'Official'
                        }}</strong></div>
            </div>

            <div class="actions">
                <button class="btn full"><i class="fa-solid fa-phone"></i> Contact seller (demo)</button>
                <a class="btn ghost full" href="{{ url_for('index') }}"><i class="fa-solid fa-arrow-left"></i> Back</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}